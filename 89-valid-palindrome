public Boolean isPalindrome(String str){
    
    Pattern nonAlphanumeric = Pattern.compile('[^a-zA-Z0-9]');
    Matcher matcher = nonAlphanumeric.matcher(str);
    matcher.replaceAll('');
    str = str.toLowerCase();
    str = str.replaceAll(',', '');
    str = str.replaceAll(':', '');
    str = str.replaceAll(' ', '');
    System.debug('New string: ' + str);
    for (Integer i = 0; i < str.length(); i++) {
        if (!i.isAlphanumeric()) {
            str.replace(i, '');
        }
    }
    
    for (Integer i = str.length() - 1; i >= 0; i--) {
        for (Integer j = 0; j < str.length(); j++) {
            if (i != j) {
                return false;
            }
        }
    }

    return true;
}